/* Label Slide (leSlide) | Version 1.2 | http://wesleytodd.com/ */
(function(a){a.leSlide=function(c,b){var d=this;d.$el=a(c);d.el=c;d.$el.data("leSlide",d);d.init=function(){d.options=a.extend({},a.leSlide.defaultOptions,b);d.$label=a("label[for="+d.$el.attr("id")+"]");d.placeholder=d.$el.attr("placeholder");if(d.placeholder==undefined){if(d.$label.length>1){d.$label.each(function(f,g){if(a(this).is(d.$el.siblings())){d.$label=a(this);return false}})}else{if(d.$label.length==0){if(d.placeholder!=undefined){d.$label=a('<label for="'+d.$el.attr("id")+'">'+d.placeholder+"</label>")}else{d.$label=a('<label for="'+d.$el.attr("id")+'">'+d.toCamel(d.$el.attr("name"))+"</label>")}}}}else{d.$label=a('<label for="'+d.$el.attr("id")+'">'+d.placeholder+"</label>");d.$el.removeAttr("placeholder")}d.$el.wrap('<div class="'+d.options.wrapperClass+'" />').parent("."+d.options.wrapperClass).prepend(d.$label);if(d.options.animate){d.$label.css({"-moz-transition":"none","-webkit-transition":"none","-o-transition":"none","-ms-transition":"none",transition:"none"})}var e=d.$label.clone().css({display:"inline",width:"auto"});d.$label.after(e);d.labelInlineWidth=e.width();e.remove();d.inputWidth=d.$el.width();d.baseTextIndent=d.inputWidth-d.labelInlineWidth;d.attachEventHandler(d.el);d.eventHandler(a.Event())};d.attachEventHandler=function(e){a(e).on("focus blur keyup",function(f){d.eventHandler(f)});a(e).on("unmaskreplace",function(g,f){d.el=f.get(0);d.$el=a(f);d.$el.data("leSlide",d);d.attachEventHandler(f)})};d.eventHandler=function(h){var g=0;if(h.type=="focus"){if(d.$el.val()==""){g=d.baseTextIndent}else{g=d.$label.css("text-indent")}d.$el.parent("."+d.options.wrapperClass).addClass(d.options.focusClass)}else{if(h.type=="blur"){if(d.$el.val()==""){}else{g=d.$label.css("text-indent")}d.$el.parent("."+d.options.wrapperClass).removeClass(d.options.focusClass)}else{if(d.$el.val()!=""){var i=a("<span />").html(d.$el.val());d.$el.after(i);var f=i.width();i.remove();if(f>d.inputWidth-d.labelInlineWidth-d.options.widthOffset){g=d.baseTextIndent+(f/d.options.textIndendMultiplier)}else{g=d.baseTextIndent}}}}if(!d.options.animate){d.$label.css("text-indent",g)}else{d.$label.stop().animate({"text-indent":g},d.options.animateDuration,d.options.animateEasing,d.options.animateComplete)}};d.toCamel=function(e){return e.replace(/^([a-z])/,function(f){return f.toUpperCase()})};d.init()};a.leSlide.defaultOptions={wrapperClass:"leSlide-wrap",focusClass:"field-focus",animate:true,animateEasing:"swing",animateDuration:500,animateComplete:function(){},widthOffset:35,textIndendMultiplier:2.66};a.fn.leSlide=function(b){return this.each(function(){if(a(this).is("input[type=text], input[type=password]")){(new a.leSlide(this,b))}else{a(this).find("input[type=text], input[type=password]").each(function(c,d){(new a.leSlide(d,b))})}})}})(jQuery);